<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pustaka Ceria - Perpustakaan Digital</title>
    <!-- Memuat Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Memuat ikon (Heroicons) -->
    <script src="https://unpkg.com/heroicons@2.1.1/24/outline/index.js"></script>
    <!-- Font Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Baloo+2:wght@700&display=swap" rel="stylesheet">
    
    <style>
        /* Gaya kustom untuk tema SD */
        body {
            font-family: 'Inter', sans-serif;
        }
        .font-display {
            font-family: 'Baloo 2', cursive;
        }
        /* Gradien latar belakang untuk halaman login */
        .login-bg {
            background: linear-gradient(135deg, #60A5FA 0%, #FCD34D 100%);
        }
        /* Efek hover yang menyenangkan pada kartu buku */
        .book-card:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        .book-card {
            transition: all 0.3s ease-in-out;
        }
        /* Sembunyikan elemen secara default */
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- 1. Halaman Login =================================================== -->
    <div id="login-page" class="min-h-screen flex items-center justify-center login-bg p-6">
        <div class="bg-white p-10 md:p-12 rounded-2xl shadow-2xl max-w-lg w-full text-center">
            <h1 class="font-display text-5xl md:text-6xl text-blue-600 mb-4">Pustaka Ceria</h1>
            <p class="text-xl text-gray-600 mb-10">Perpustakaan Digital Sekolah Kita!</p>
            
            <div class="space-y-4">
                <button onclick="login('siswa')" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 px-6 rounded-full text-lg shadow-lg transition duration-300 transform hover:scale-105">
                    Masuk sebagai Siswa
                </button>
                <button onclick="login('guru')" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 rounded-full text-lg shadow-lg transition duration-300 transform hover:scale-105">
                    Masuk sebagai Guru
                </button>
                <button onclick="login('orangtua')" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-4 px-6 rounded-full text-lg shadow-lg transition duration-300 transform hover:scale-105">
                    Masuk sebagai Orang Tua
                </button>
            </div>
            
            <button onclick="login('admin')" class="mt-8 text-gray-500 hover:text-blue-600 transition duration-300">
                Login Admin
            </button>
        </div>
    </div>

    <!-- 2. Halaman Utama Aplikasi (Disembunyikan) ============================ -->
    <div id="main-app" class="hidden min-h-screen bg-blue-50">
        <!-- Navbar Utama -->
        <nav class="bg-white shadow-md sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-20 items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <span class="font-display text-3xl text-blue-600">Pustaka Ceria</span>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span id="welcome-message" class="text-lg text-gray-700"></span>
                        <button onclick="logout()" class="bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-5 rounded-full shadow transition duration-300">
                            Keluar
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Konten Utama (Dashboard) -->
        <main class="max-w-7xl mx-auto p-6 md:p-8">

            <!-- == A. Dashboard Siswa == -->
            <div id="student-dashboard" class="dashboard-content hidden">
                <h2 class="text-3xl font-bold mb-6">Halo, Sahabat Ceria! ðŸ“š</h2>
                <p class="text-lg text-gray-600 mb-8">Ayo pilih buku yang kamu suka hari ini!</p>

                <!-- Filter Kategori -->
                <div class="bg-white p-6 rounded-lg shadow-sm mb-8">
                    <h3 class="text-xl font-bold mb-4">Pilih Level Membacamu</h3>
                    <div class="flex flex-wrap gap-3">
                        <button onclick="filterBooks(null, null)" class="filter-btn bg-blue-500 text-white py-2 px-5 rounded-full font-semibold">Semua Buku</button>
                        <button onclick="filterBooks('A', null)" class="filter-btn bg-gray-200 text-gray-700 hover:bg-yellow-400 py-2 px-5 rounded-full font-semibold">Level A (Kelas 1-2)</button>
                        <button onclick="filterBooks('B', null)" class="filter-btn bg-gray-200 text-gray-700 hover:bg-green-400 py-2 px-5 rounded-full font-semibold">Level B (Kelas 3-4)</button>
                        <button onclick="filterBooks('C', null)" class="filter-btn bg-gray-200 text-gray-700 hover:bg-red-400 py-2 px-5 rounded-full font-semibold">Level C (Kelas 5-6)</button>
                    </div>
                    <h3 class="text-xl font-bold mb-4 mt-6">Pilih Jenis Buku</h3>
                    <div class="flex flex-wrap gap-3">
                        <button onclick="filterBooks(null, 'Cerita')" class="filter-btn bg-gray-200 text-gray-700 hover:bg-indigo-400 py-2 px-5 rounded-full font-semibold">Cerita Fiksi</button>
                        <button onclick="filterBooks(null, 'Komik')" class="filter-btn bg-gray-200 text-gray-700 hover:bg-purple-400 py-2 px-5 rounded-full font-semibold">Komik Literasi</button>
                        <button onclick="filterBooks(null, 'Pengetahuan')" class="filter-btn bg-gray-200 text-gray-700 hover:bg-pink-400 py-2 px-5 rounded-full font-semibold">Pengetahuan</button>
                    </div>
                </div>

                <!-- Galeri Buku -->
                <div id="book-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6">
                    <!-- Kartu buku akan dimasukkan oleh JavaScript -->
                </div>
            </div>

            <!-- == B. Dashboard Guru == -->
            <div id="teacher-dashboard" class="dashboard-content hidden">
                <h2 class="text-3xl font-bold mb-8">Selamat Datang, Bapak/Ibu Guru!</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-2xl font-bold text-green-700 mb-3">Statistik Membaca</h3>
                        <p class="text-gray-600">Lihat progres membaca siswa dan kelas yang Anda ajar. (Fitur dalam pengembangan)</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-2xl font-bold text-blue-700 mb-3">Rekomendasi Bahan Ajar</h3>
                        <p class="text-gray-600">Temukan buku non-teks yang relevan untuk mendukung materi pelajaran di kelas.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-2xl font-bold text-yellow-700 mb-3">Katalog Lengkap</h3>
                        <p class="text-gray-600">Akses penuh ke semua level dan kategori buku untuk referensi Anda.</p>
                    </div>
                </div>
            </div>

            <!-- == C. Dashboard Orang Tua == -->
            <div id="parent-dashboard" class="dashboard-content hidden">
                <h2 class="text-3xl font-bold mb-8">Selamat Datang, Ayah/Bunda!</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-2xl font-bold text-yellow-700 mb-3">Pantau Aktivitas Anak</h3>
                        <p class="text-gray-600">Lihat buku apa saja yang sedang dibaca oleh anak Anda. (Fitur dalam pengembangan)</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-2xl font-bold text-indigo-700 mb-3">Tips Membaca di Rumah</h3>
                        <p class="text-gray-600">Dapatkan ide-ide kreatif untuk menciptakan waktu membaca yang menyenangkan bersama keluarga.</p>
                    </div>
                </div>
            </div>

            <!-- == D. Dashboard Admin == -->
            <div id="admin-dashboard" class="dashboard-content hidden">
                <h2 class="text-3xl font-bold mb-8">Panel Admin Pustaka Ceria</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Kelola Buku -->
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-2xl font-bold text-red-700 mb-3">Kelola Katalog Buku</h3>
                        <p class="text-gray-600 mb-4">Tambah, edit, atau hapus koleksi buku non-teks di perpustakaan.</p>
                        <button class="bg-red-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-red-700">Kelola Buku</button>
                    </div>
                    <!-- Kelola Pengguna -->
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-2xl font-bold text-blue-700 mb-3">Kelola Pengguna</h3>
                        <p class="text-gray-600 mb-4">Kelola akun siswa, guru, dan orang tua.</p>
                        <button class="bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700">Kelola Pengguna</button>
                    </div>
                    <!-- Statistik -->
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-2xl font-bold text-green-700 mb-3">Statistik Perpustakaan</h3>
                        <p class="text-gray-600 mb-4">Lihat data peminjaman dan buku terpopuler.</p>
                        <button class="bg-green-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-green-700">Lihat Statistik</button>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- 3. Modal Detail Buku (Disembunyikan) ================================ -->
    <div id="book-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto">
            <div class="flex justify-end p-4">
                <button onclick="closeModal()" class="text-gray-500 hover:text-red-600 text-3xl">&times;</button>
            </div>
            <div id="book-modal-content" class="p-6 md:p-10 grid md:grid-cols-2 gap-8">
                <!-- Konten modal akan dimasukkan oleh JavaScript -->
            </div>
        </div>
    </div>


    <!-- JavaScript ========================================================= -->
    <script>
        // === Database Buku Non-Teks (Contoh) ===
        const mockBooks = [
            {
                id: 1,
                title: "Kancil dan Buaya",
                author: "Penulis A",
                level: "A", // Kelas 1-2
                type: "Cerita",
                cover: "https://placehold.co/300x400/FCD34D/333?text=Kancil%20%26%20Buaya",
                synopsis: "Kisah klasik si Kancil yang cerdik menghadapi buaya-buaya di sungai. Buku ini penuh gambar dan kalimat pendek, cocok untuk latihan membaca."
            },
            {
                id: 2,
                title: "Mengenal Angkasa",
                author: "Penulis B",
                level: "B", // Kelas 3-4
                type: "Pengetahuan",
                cover: "https://placehold.co/300x400/60A5FA/FFF?text=Mengenal%20Angkasa",
                synopsis: "Jelajahi planet, bintang, dan galaksi! Buku ini menjawab rasa ingin tahu anak tentang luar angkasa dengan bahasa yang mudah dimengerti."
            },
            {
                id: 3,
                title: "Petualangan Tim Juara",
                author: "Penulis C",
                level: "C", // Kelas 5-6
                type: "Cerita",
                cover: "https://placehold.co/300x400/4ADE80/333?text=Tim%20Juara",
                synopsis: "Lima sahabat bekerja sama untuk memecahkan misteri di sekolah mereka. Cerita petualangan yang seru dengan bab-bab yang menantang."
            },
            {
                id: 4,
                title: "Komik Sains: Tubuh Kita",
                author: "Penulis D",
                level: "B", // Kelas 3-4
                type: "Komik",
                cover: "https://placehold.co/300x400/F87171/FFF?text=Komik%20Sains",
                synopsis: "Belajar tentang organ tubuh menjadi sangat menyenangkan lewat komik! Penuh ilustrasi lucu dan fakta menarik."
            },
            {
                id: 5,
                title: "Asal Mula Pelangi",
                author: "Penulis E",
                level: "A", // Kelas 1-2
                type: "Cerita",
                cover: "https://placehold.co/300x400/C084FC/FFF?text=Asal%20Mula%20Pelangi",
                synopsis: "Cerita rakyat yang indah tentang bagaimana pelangi pertama kali muncul. Ilustrasi penuh warna akan memanjakan mata."
            },
            {
                id: 6,
                title: "Ensiklopedia Hewan Laut",
                author: "Penulis F",
                level: "C", // Kelas 5-6
                type: "Pengetahuan",
                cover: "https://placehold.co/300x400/34D399/333?text=Hewan%20Laut",
                synopsis: "Kumpulan fakta menakjubkan tentang hiu, paus, ubur-ubur, dan makhluk laut dalam lainnya. Dilengkapi foto-foto berkualitas."
            },
             {
                id: 7,
                title: "Jaga Lingkungan Kita",
                author: "Penulis G",
                level: "B", // Kelas 3-4
                type: "Komik",
                cover: "https://placehold.co/300x400/22D3EE/333?text=Jaga%20Lingkungan",
                synopsis: "Komik seru tentang pahlawan super cilik yang mengajak teman-temannya untuk mengurangi sampah plastik dan menanam pohon."
            },
            {
                id: 8,
                title: "Robot Ajaib",
                author: "Penulis H",
                level: "A", // Kelas 1-2
                type: "Cerita",
                cover: "https://placehold.co/300x400/A3A3A3/FFF?text=Robot%20Ajaib",
                synopsis: "Bima menemukan sebuah robot tua di gudang. Ternyata, robot itu bisa melakukan hal-hal ajaib! Cerita imajinatif untuk pembaca awal."
            }
        ];

        // === Status Aplikasi ===
        let currentUserRole = null;
        const loginPage = document.getElementById('login-page');
        const mainApp = document.getElementById('main-app');
        const welcomeMessage = document.getElementById('welcome-message');
        const dashboards = document.querySelectorAll('.dashboard-content');
        const bookGrid = document.getElementById('book-grid');
        const bookModal = document.getElementById('book-modal');
        const bookModalContent = document.getElementById('book-modal-content');

        // === Fungsi Navigasi Halaman ===
        function showPage(pageId) {
            loginPage.classList.add('hidden');
            mainApp.classList.add('hidden');
            
            document.getElementById(pageId).classList.remove('hidden');
        }

        // === Fungsi Login & Logout ===
        function login(role) {
            if (role === 'admin') {
                // Simulasi login admin
                const password = prompt("Masukkan kata sandi Admin:");
                if (password !== 'admin123') { // Kata sandi contoh
                    alert("Kata sandi salah!");
                    return;
                }
                currentUserRole = 'admin';
                welcomeMessage.textContent = 'Selamat Datang, Admin!';
            } else if (role === 'siswa') {
                currentUserRole = 'siswa';
                welcomeMessage.textContent = 'Halo, Sahabat Ceria!';
            } else if (role === 'guru') {
                currentUserRole = 'guru';
                welcomeMessage.textContent = 'Selamat Datang, Bapak/Ibu Guru!';
            } else if (role === 'orangtua') {
                currentUserRole = 'orangtua';
                welcomeMessage.textContent = 'Selamat Datang, Ayah/Bunda!';
            }
            
            showPage('main-app');
            renderDashboard(currentUserRole);
        }

        function logout() {
            currentUserRole = null;
            showPage('login-page');
        }

        // === Fungsi Render Tampilan ===
        function renderDashboard(role) {
            // Sembunyikan semua dashboard
            dashboards.forEach(d => d.classList.add('hidden'));
            
            // Tampilkan dashboard yang sesuai
            const activeDashboard = document.getElementById(`${role}-dashboard`);
            if (activeDashboard) {
                activeDashboard.classList.remove('hidden');
            }

            // Jika siswa, tampilkan galeri buku
            if (role === 'siswa') {
                renderBookGrid(mockBooks);
            }
            // Jika guru, tampilkan juga galeri buku (atau bisa diatur beda)
            if (role === 'guru') {
                // Untuk guru, kita bisa tambahkan galeri buku di bawah dashboardnya
                // (Untuk demo ini, kita fokus di siswa dulu)
            }
        }

        // === Fungsi Galeri Buku ===
        function renderBookGrid(books) {
            if (!bookGrid) return; // Hanya jalankan jika bookGrid ada
            
            bookGrid.innerHTML = ''; // Kosongkan galeri
            
            if (books.length === 0) {
                bookGrid.innerHTML = `<p class="text-lg text-gray-500 col-span-full text-center">Oops, buku yang kamu cari tidak ditemukan!</p>`;
                return;
            }

            books.forEach(book => {
                const levelBadgeColor = {
                    'A': 'bg-yellow-400 text-yellow-900',
                    'B': 'bg-green-400 text-green-900',
                    'C': 'bg-red-400 text-red-900'
                }[book.level];

                const cardHTML = `
                    <div class="book-card bg-white rounded-lg shadow-md overflow-hidden cursor-pointer" onclick="showBookDetail(${book.id})">
                        <img src="${book.cover}" alt="${book.title}" class="w-full h-48 sm:h-64 object-cover">
                        <div class="p-4">
                            <span class="text-xs font-bold py-1 px-3 rounded-full ${levelBadgeColor}">Level ${book.level}</span>
                            <h4 class="font-bold text-lg mt-2 mb-1 truncate">${book.title}</h4>
                            <p class="text-gray-600 text-sm">${book.author}</p>
                        </div>
                    </div>
                `;
                bookGrid.innerHTML += cardHTML;
            });
        }

        // === Fungsi Filter Buku ===
        function filterBooks(level, type) {
            let filteredBooks = mockBooks;

            if (level) {
                filteredBooks = filteredBooks.filter(book => book.level === level);
            }
            
            if (type) {
                filteredBooks = filteredBooks.filter(book => book.type === type);
            }

            renderBookGrid(filteredBooks);
        }

        // === Fungsi Modal Detail Buku ===
        function showBookDetail(bookId) {
            const book = mockBooks.find(b => b.id === bookId);
            if (!book) return;

            const levelBadgeColor = {
                'A': 'bg-yellow-400 text-yellow-900',
                'B': 'bg-green-400 text-green-900',
                'C': 'bg-red-400 text-red-900'
            }[book.level];

            const typeBadgeColor = {
                'Cerita': 'bg-indigo-400 text-indigo-900',
                'Komik': 'bg-purple-400 text-purple-900',
                'Pengetahuan': 'bg-pink-400 text-pink-900'
            }[book.type];
            
            bookModalContent.innerHTML = `
                <div>
                    <img src="${book.cover}" alt="${book.title}" class="w-full rounded-lg shadow-lg">
                </div>
                <div>
                    <h2 class="text-4xl font-bold font-display mb-4">${book.title}</h2>
                    <p class="text-lg text-gray-500 mb-4">oleh ${book.author}</p>
                    <div class="flex gap-3 mb-6">
                        <span class="text-sm font-bold py-1 px-4 rounded-full ${levelBadgeColor}">Level ${book.level}</span>
                        <span class="text-sm font-bold py-1 px-4 rounded-full ${typeBadgeColor}">${book.type}</span>
                    </div>
                    <h4 class="text-xl font-bold mb-2">Sinopsis</h4>
                    <p class="text-gray-700 leading-relaxed">${book.synopsis}</p>
                    <button class="mt-8 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-full text-lg shadow-lg transition duration-300">
                        Baca Sekarang!
                    </button>
                </div>
            `;
            
            bookModal.classList.remove('hidden');
        }

        function closeModal() {
            bookModal.classList.add('hidden');
            bookModalContent.innerHTML = ''; // Kosongkan konten
        }

        // === Inisialisasi Aplikasi ===
        // Tampilkan halaman login saat pertama kali dimuat
        document.addEventListener('DOMContentLoaded', () => {
            showPage('login-page');
        });

    </script>

</body>
</html>

